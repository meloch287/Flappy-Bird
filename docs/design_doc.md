# Flappy Bird - Проектная документация

## 1. Описание игры

### Классическая механика
Flappy Bird - аркадная игра, где игрок управляет птицей, которая должна пролетать между трубами. Птица постоянно падает под действием гравитации, а игрок может заставить её подпрыгнуть нажатием клавиши.

### Правила игры
- Птица автоматически падает вниз
- Нажатие на кнопку заставляет птицу подпрыгнуть
- Столкновение с трубой или землёй завершает игру
- За каждую пройденную пару труб начисляется 1 очко

## 2. Архитектура проекта

### Диаграмма классов

```
                    ┌─────────────────┐
                    │   GameObject    │
                    │   (abstract)    │
                    ├─────────────────┤
                    │ x, y            │
                    │ width, height   │
                    │ active          │
                    ├─────────────────┤
                    │ get_rect()      │
                    │ update()        │
                    │ draw()          │
                    └────────┬────────┘
                             │
                    ┌────────┴────────┐
                    │  MovingObject   │
                    ├─────────────────┤
                    │ speed           │
                    │ dx, dy          │
                    ├─────────────────┤
                    │ move()          │
                    └────────┬────────┘
                             │
        ┌────────────────────┼────────────────────┐
        │                    │                    │
┌───────┴───────┐   ┌────────┴────────┐   ┌───────┴───────┐
│ AnimatedObject│   │      Pipe       │   │    Ground     │
├───────────────┤   ├─────────────────┤   ├───────────────┤
│ frames        │   │ gap, gap_y      │   │ scroll_x      │
│ current_frame │   │ passed          │   │ surface       │
├───────────────┤   ├─────────────────┤   ├───────────────┤
│ update_anim() │   │ get_top_rect()  │   │ reset()       │
└───────┬───────┘   │ get_bottom_rect │   └───────────────┘
        │           │ is_off_screen() │
┌───────┴───────┐   └─────────────────┘
│     Bird      │
├───────────────┤
│ velocity      │
│ rotation      │
│ gravity       │
├───────────────┤
│ jump()        │
│ reset()       │
└───────────────┘
```

### Компоненты системы

```
┌─────────────────────────────────────────────────────────────┐
│                     FlappyBirdGame                          │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────────────┐  │
│  │ GameEngine  │  │  Renderer   │  │ CollisionManager    │  │
│  │ - state     │  │ - screen    │  │ - check_collision() │  │
│  │ - score     │  │ - colors    │  │ - check_bounds()    │  │
│  │ - config    │  │ - draw()    │  └─────────────────────┘  │
│  └─────────────┘  └─────────────┘                           │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────────────┐  │
│  │    Bird     │  │ PipeManager │  │   Menu / GameOver   │  │
│  │             │  │ - pipes[]   │  │   - buttons         │  │
│  │             │  │ - spawn()   │  │   - handle_click()  │  │
│  └─────────────┘  └─────────────┘  └─────────────────────┘  │
└─────────────────────────────────────────────────────────────┘
```

## 3. Паттерны проектирования

### Используемые паттерны:

1. **Наследование** - иерархия GameObject → MovingObject → AnimatedObject → Bird
2. **Композиция** - FlappyBirdGame содержит все игровые компоненты
3. **Менеджер** - PipeManager управляет коллекцией труб
4. **Состояние** - GameState enum для управления состояниями игры
5. **Конфигурация** - JSON файл для настроек игры

## 4. Физика игры

### Гравитация
```
velocity += gravity
y += velocity
```

### Прыжок
```
velocity = jump_strength (отрицательное значение)
```

### Поворот птицы
```
if velocity < 0:
    rotation = min(25, -velocity * 3)  # Вверх
else:
    rotation = max(-90, -velocity * 4)  # Вниз
```

## 5. Система сложности

| Параметр | Легко | Средне | Сложно |
|----------|-------|--------|--------|
| Промежуток | 180px | 150px | 120px |
| Скорость труб | 2 | 3 | 4 |
| Гравитация | 0.4 | 0.5 | 0.6 |
